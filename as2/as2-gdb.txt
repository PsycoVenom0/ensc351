script started, output log file is 'as2-gdb.txt'.
garyhsu@351-Debian:~/ENSC351/public$ gdb-multiarch noworky
GNU gdb (Debian 16.3-1) 16.3
Copyright (C) 2024 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type "show copying" and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<https://www.gnu.org/software/gdb/bugs/>.
Find the GDB manual and other documentation resources online at:
    <http://www.gnu.org/software/gdb/documentation/>.

For help, type "help".
Type "apropos word" to search for commands related to "word"...
Reading symbols from noworky...
(gdb) target remote 192.168.7.2:2001
Remote debugging using 192.168.7.2:2001
Reading /lib/ld-linux-aarch64.so.1 from remote target...
warning: File transfers from remote targets can be slow. Use "set sysroot" to access files locally instead.
Reading /lib/ld-linux-aarch64.so.1 from remote target...
Reading symbols from target:/lib/ld-linux-aarch64.so.1...
Reading /usr/lib/debug/.build-id/2c/9ac3cfeda05db3895dbefeabe484b6851b341e.debug from remote target...
Reading /usr/lib/debug/.build-id/2c/9ac3cfeda05db3895dbefeabe484b6851b341e.debug from remote target...
Reading symbols from target:/usr/lib/debug/.build-id/2c/9ac3cfeda05db3895dbefeabe484b6851b341e.debug...
_start () at ../sysdeps/aarch64/dl-start.S:23
warning: 23	../sysdeps/aarch64/dl-start.S: No such file or directory
(gdb)  b main
Breakpoint 1 at 0xaaaaaaaa0994: file noworky.c, line 51.
(gdb) continue
Continuing.
Reading /lib/aarch64-linux-gnu/libc.so.6 from remote target...
Reading /usr/lib/debug/.build-id/b3/2c35038e644c70c27979cb0b90182f43f6794b.debug from remote target...
Reading /usr/lib/debug/.build-id/b3/2c35038e644c70c27979cb0b90182f43f6794b.debug from remote target...

Breakpoint 1, main () at noworky.c:51
51		printf("noworky: by Brian Fraser\n");
(gdb) list
46	 */
47	int main()
48	{
49		unsigned int i;
50		double *source, *target;
51		printf("noworky: by Brian Fraser\n");
52	
53		// Allocate the arrays:
54		source = malloc(sizeof(*source) * NUM_ELEMENTS);
55		target = malloc(sizeof(*target) * NUM_ELEMENTS);
(gdb) frame
#0  main () at noworky.c:51
51		printf("noworky: by Brian Fraser\n");
(gdb) 
#0  main () at noworky.c:51
51		printf("noworky: by Brian Fraser\n");
(gdb) n

54		source = malloc(sizeof(*source) * NUM_ELEMENTS);
(gdb) 



55		target = malloc(sizeof(*target) * NUM_ELEMENTS);
(gdb) 
57		if (!source || !target) {
(gdb) 
63		for (i=0; i < NUM_ELEMENTS; i++) {
(gdb) 
64			source[i] = i * 2.0;
(gdb) info
List of info subcommands:

info address -- Describe where symbol SYM is stored.
info all-registers -- List of all registers and their contents, for selected stack frame.
info args -- All argument variables of current stack frame or those matching REGEXPs.
info auto-load -- Print current status of auto-loaded files.
info auxv -- Display the inferior's auxiliary vector.
info bookmarks -- Status of user-settable bookmarks.
info breakpoints, 
   info b -- Status of specified breakpoints (all user-settable breakpoints if no argument).
info checkpoints -- IDs of currently known checkpoints.
info classes -- All Objective-C classes, or those matching REGEXP.
info common -- Print out the values contained in a Fortran COMMON block.
info connections -- Target connections in use.
info copying -- Conditions for redistributing copies of GDB.
info dcache -- Print information on the dcache performance.
info display -- Expressions to display when program stops, with code numbers.
info exceptions -- List all Ada exception names.
info extensions -- All filename extensions associated with a source language.
info files -- Names of targets and files being debugged.
info float -- Print the status of the floating point unit.
info frame, info f -- All about the selected stack frame.
info frame-filter -- List all registered Python frame-filters.
info functions -- All function names or those matching REGEXPs.
info guile, info gu -- Prefix command for Guile info displays.
info inferiors -- Print a list of inferiors being managed.
info io_registers -- Query remote AVR target for I/O space register values.
info line -- Core addresses of the code for a source line.
info locals -- All local variables of current stack frame or those matching REGEXPs.
info macro -- Show the definition of MACRO, and it's source location.
info macros -- Show the definitions of all macros at LINESPEC, or the current source location.
info main -- Get main symbol to identify entry point into program.
info mem -- Memory region attributes.
info missing-debug-handlers -- GDB command to list missing debug handlers.
info missing-objfile-handlers -- GDB command to list missing objfile handlers.
info module -- Print information about modules.
info modules -- All module names, or those matching REGEXP.
info os -- Show OS data ARG.
info pretty-printer -- GDB command to list all registered pretty-printers.
info probes -- Show available static probes.
--Type <RET> for more, q to quit, c to continue without paging--q
Quit
(gdb) info local
i = 0
source = 0xaaaaaaac16b0
target = 0xaaaaaaac1710
(gdb) n
65			target[i] = i * 10.0;
(gdb) info local
i = 0
source = 0xaaaaaaac16b0
target = 0xaaaaaaac1710
(gdb) info all-registers
x0             0xaaaaaaac16b0      187649984566960
x1             0xaaaaaaac16b0      187649984566960
x2             0xfffff7fa6000      281474842124288
x3             0x0                 0
x4             0xaaaaaaac1760      187649984567136
x5             0x60                96
x6             0xfffffffffffffff0  -16
x7             0x4                 4
x8             0x40                64
x9             0x30                48
x10            0xfffff7dfef20      281474840391456
x11            0x0                 0
x12            0xfffff7fff370      281474842489712
x13            0xffffffffeee0      281474976706272
x14            0x0                 0
x15            0x34e6b4            3466932
x16            0xaaaaaaac0010      187649984561168
x17            0xfffff7e87584      281474840950148
x18            0xfff               4095
x19            0xfffffffff388      281474976707464
x20            0x1                 1
x21            0xaaaaaaabfdd0      187649984560592
x22            0xaaaaaaaa098c      187649984432524
x23            0xfffffffff398      281474976707480
x24            0xfffff7ffdb30      281474842483504
x25            0x0                 0
x26            0xfffff7ffe000      281474842484736
x27            0xaaaaaaabfdd0      187649984560592
x28            0x0                 0
x29            0xfffffffff1e0      281474976707040
x30            0xaaaaaaaa09b4      187649984432564
sp             0xfffffffff1e0      0xfffffffff1e0
pc             0xaaaaaaaa0a0c      0xaaaaaaaa0a0c <main+128>
cpsr           0x80200000          [ EL=0 BTYPE=0 SS N ]
v0             {d = {f = {0x0, 0x0}, u = {0x0, 0x0}, s = {0x0, 0x0}}, s = {f = {0x0, 0x0, 0x0, 0x0}, u = {0x0, 0x0, 0x0, 0x0}, s = {0x0, 0x0, 0x0, 0x0}}, h = {bf = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, f = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, u = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, s = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}}, b = {u = {0x0 <repeats 16 times>}, s = {0x0 <repeats 16 times>}}, q = {u = {0x0}, s = {0x0}}}
v1             {d = {f = {0x0, 0xffffffffffffffff}, u = {0x0, 0xffffffffffffffff}, s = {0x0, 0xfffffffff--Type <RET> for more, q to quit, c to continue without paging--q
Quit
(gdb) prints myVar
Undefined command: "prints".  Try "help".
(gdb) print myVar
No symbol "myVar" in current context.
(gdb) print i 
$1 = 0
(gdb) n
63		for (i=0; i < NUM_ELEMENTS; i++) {
(gdb) print i
$2 = 0
(gdb) info locals
i = 0
source = 0xaaaaaaac16b0
target = 0xaaaaaaac1710
(gdb) n
64			source[i] = i * 2.0;
(gdb) info locals
i = 1
source = 0xaaaaaaac16b0
target = 0xaaaaaaac1710
(gdb) break tradeArrays
Breakpoint 2 at 0xaaaaaaaa08bc: file noworky.c, line 28.
(gdb) continue
Continuing.

Breakpoint 2, tradeArrays (array1=0xaaaaaaac16b0, array2=0xaaaaaaac1710, size=10) at noworky.c:28
28		for (i = size-1; i >= 0; i--) {
(gdb) list
23	 * Swap the contents of the two arrays.
24	 */
25	void tradeArrays(double *array1, double *array2, int size)
26	{
27		unsigned int i;
28		for (i = size-1; i >= 0; i--) {
29			swapContent(array1+i, array2+i);
30		}
31	}
32	
(gdb) info locals
i = 10
(gdb) 
i = 10
(gdb) n
29			swapContent(array1+i, array2+i);
(gdb) info locals
i = 9
(gdb) n
28		for (i = size-1; i >= 0; i--) {
(gdb) info locals
i = 9
(gdb) n
29			swapContent(array1+i, array2+i);
(gdb) info locals
i = 8
(gdb) n
28		for (i = size-1; i >= 0; i--) {
(gdb) info locals
i = 8
(gdb) display i
1: i = 8
(gdb) n
29			swapContent(array1+i, array2+i);
1: i = 7
(gdb) n
28		for (i = size-1; i >= 0; i--) {
1: i = 7
(gdb) n
29			swapContent(array1+i, array2+i);
1: i = 6
(gdb) n
28		for (i = size-1; i >= 0; i--) {
1: i = 6
(gdb) n
29			swapContent(array1+i, array2+i);
1: i = 5
(gdb) 
28		for (i = size-1; i >= 0; i--) {
1: i = 5
(gdb) 
29			swapContent(array1+i, array2+i);
1: i = 4
(gdb) 
28		for (i = size-1; i >= 0; i--) {
1: i = 4
(gdb) 
29			swapContent(array1+i, array2+i);
1: i = 3
(gdb) 
28		for (i = size-1; i >= 0; i--) {
1: i = 3
(gdb) 
29			swapContent(array1+i, array2+i);
1: i = 2
(gdb) 
28		for (i = size-1; i >= 0; i--) {
1: i = 2
(gdb) 
29			swapContent(array1+i, array2+i);
1: i = 1
(gdb) 
28		for (i = size-1; i >= 0; i--) {
1: i = 1
(gdb) 
29			swapContent(array1+i, array2+i);
1: i = 0
(gdb) 
28		for (i = size-1; i >= 0; i--) {
1: i = 0
(gdb) 
29			swapContent(array1+i, array2+i);
1: i = 4294967295
(gdb) ptype i
type = unsigned int
(gdb) quit
A debugging session is active.

	Inferior 1 [process 2362] will be killed.

Quit anyway? (y or n) y
garyhsu@351-Debian:~/ENSC351/public$ exit
exit
Script done.


garyhsu@BeagleBone:/mnt/remote$ valgrind ./noworky
==2433== Memcheck, a memory error detector
==2433== Copyright (C) 2002-2024, and GNU GPL'd, by Julian Seward et al.
==2433== Using Valgrind-3.24.0 and LibVEX; rerun with -h for copyright info
==2433== Command: ./noworky
==2433== 
noworky: by Brian Fraser
Initial values: 
  0: 000.0 --> 000.0
  1: 002.0 --> 010.0
  2: 004.0 --> 020.0
  3: 006.0 --> 030.0
  4: 008.0 --> 040.0
  5: 010.0 --> 050.0
  6: 012.0 --> 060.0
  7: 014.0 --> 070.0
  8: 016.0 --> 080.0
  9: 018.0 --> 090.0
==2433== Invalid read of size 8
==2433==    at 0x108878: swapContent (noworky.c:17)
==2433==    by 0x1088F3: tradeArrays (noworky.c:29)
==2433==    by 0x108A73: main (noworky.c:73)
==2433==  Address 0x804a7f508 is not stack'd, malloc'd or (recently) free'd
==2433== 
==2433== 
==2433== Process terminating with default action of signal 11 (SIGSEGV): dumping core
==2433==  Access not within mapped region at address 0x804A7F508
==2433==    at 0x108878: swapContent (noworky.c:17)
==2433==    by 0x1088F3: tradeArrays (noworky.c:29)
==2433==    by 0x108A73: main (noworky.c:73)
==2433==  If you believe this happened as a result of a stack
==2433==  overflow in your program's main thread (unlikely but
==2433==  possible), you can try to increase the size of the
==2433==  main thread stack using the --main-stacksize= flag.
==2433==  The main thread stack size used in this run was 8388608.
==2433== 
==2433== HEAP SUMMARY:
==2433==     in use at exit: 1,184 bytes in 3 blocks
==2433==   total heap usage: 3 allocs, 0 frees, 1,184 bytes allocated
==2433== 
==2433== LEAK SUMMARY:
==2433==    definitely lost: 0 bytes in 0 blocks
==2433==    indirectly lost: 0 bytes in 0 blocks
==2433==      possibly lost: 0 bytes in 0 blocks
==2433==    still reachable: 1,184 bytes in 3 blocks
==2433==         suppressed: 0 bytes in 0 blocks
==2433== Rerun with --leak-check=full to see details of leaked memory
==2433== 
==2433== For lists of detected and suppressed errors, rerun with: -s
==2433== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
Segmentation fault


